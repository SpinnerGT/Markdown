---
tag: python/基础
aliases:
---

```toc
```
# 变量,对象与引用

```ad-note

- 赋值语句创建对象引用
- 变量在首次赋值时会被创建
- 变量在引用前必须先赋值

```

```python
a = 3
```
1.创建一个对象来代表值3。
2.创建一个变量a,如果它还没有创建的话。
3.将变量与新的对象3相连接。
![[Pasted image 20220126021734.png]]

> 变量到对象的连接称作引用

- 变量是一个系统表的入口，包含了指向对象的连接。
- 对象是被分配到的一块内存，有足够的空间去表示它们所代表的值。
- 引用是自动形成的从变量到对象的指针。


# 不可变对象的复用:小的整数和字符串
![[Pasted image 20220126025853.png]]

# 对象的头部信息
包含:

[[类型标志符(type designator)]]
[[引用的计数器(reference counter)]]



# 共享引用
![[Pasted image 20220126023246.png]]

[[1.变量总是一个指向对象的指针，而不是可改变的内存区域的标签]]

[[2.共享引用和在原位置修改]]

[[3.共享引用和相等]]



# 引用与复制

一个例子:
![[Pasted image 20220128125737.png]]



一些复制方法:

![[Pasted image 20220128125823.png]]

```python
如果要递归地复制嵌套结构X的所有组成部分，就需要导入c0Py模块，然后调用copy.deepcopy(X)。在实际中，这也很罕见；

引用往往就是你所需要的行为，而浅层复制

如aList[:]、aDict.copy()、set(aSet)

通常就能足够满足绝大多数的复制
```


> 复制需要注意的最后一点是:无参数的分片以及字典的copy方法只能进行顶层复制 => deepcopy()