---
tag: go
aliases:
---
传统的做法是在每个程序的顶部都加上一条注释，解释它是做什么的

if条件/for循环.... 都不要括号

---
time包

1.`Time类型`: 表示日期和时间
```go
//返回现在的时间
var now time.Time = time.Now()

```
now:


```
⏩ 2022-01-21 18:32:46.770433 +0800 CST m=+0.000194584
```


2.返回年份
```go
year := now.Year()
```

---


string包

1.Replace类型:可以在字符串中搜索子字符串，并且在每次该子字符串出现的地方用另一个字符串替换它
```go
broken := "G# r#cks!" //原字符串

replacer := strings.NewReplacer("#", "o") //设置用o替代#

fixed := replacer.Replace(broken) // 使用Replace方法,使用模板替代原字符串
```


---


读取输入

```go
reader := bufio.NewReader(os.Stdin) //设置从标准(键盘)获取文本的"缓冲读取器"

input, err := reader.ReadString('\n') //以字符串形式返回输入内容,直到回车键(\n)
```
所有的键盘输入都使用标准输入

ReadString方法需要一个带有rune（字符）的参数来标记输入的结束


---

多返回值:

> Go中多个返回值最常见的用法是返回一个额外的错误值

![[Pasted image 20220121185154.png]]



```ad-note
Go要求声明的每个变量都必须在程序的某个地方使用。如果我们添加了一个err变量，而不检查它，我们的代码将无法编译

*如果err为nil，则表示没有错误*
```

选项一:使用空白标识符忽略错误返回值

要在不使用值的情况下丢弃它，请使用_空白标识符。空白标识符可以用于任何变量的任何赋值语句中
```go
input, _ := reader.ReadString('\n')
```

选项二:警告用户并停止程序运行

	log包有一个Fatal函数，它可以同时为我们完成这两项操作：将一条消息记录到终端并停止程序运行

![[Pasted image 20220121185653.png]]


---


一. 将字符串转化为浮点数:
1.输入字符串的末尾仍然有一个换行符，这源于用户在输入的过程中按了<Enter>键。我们需要将其去除

	
	strings包有一个TrimSpace函数，它将删除字符串开头和结尾的所有空白字符（换行符、制表符和常规空格）

![[Pasted image 20220121190043.png]]

2.字符串转化为float64:`strconv.ParseFloat(s,位数)`
![[Pasted image 20220121190231.png]]


二.将字符串变为整数`strconv.Atoi(input)`

---


作用域

	变量的作用域由其声明所在的块和嵌套在该块中的任何块组成

![[Pasted image 20220121190601.png]]

> 如果你没有在两个：=出现的地方将其都改为=，你会在嵌套的条件块中意外地创建名为status的新变量，该变量将会超出至函数块末尾所包含的范围！




---


短声明只有一个变量必须是新的

当同一个变量名在同一个作用域中被声明两次时，我们会得到一个编译错误
![[Pasted image 20220121191010.png]]

但是，只要短变量声明中至少有一个变量名是新的，这是允许的。新变量名被视为声明，而现有的名字被视为赋值
![[Pasted image 20220121191031.png]]


---

包名与导入路径

除了名称之外，导入包时可能还需要包的导入路径

按照惯例，导入路径的最后（或唯一）一段也用作包名
![[Pasted image 20220121194500.png]]


---

生成随机数  

`rand.Intn(num)`:将一个数字传递给rand.Intn，它将返回一个介于0和你提供的数字之间的随机整数,如果需要num,则可以`+1`

为了得到不同的随机数，我们需要向rand.Seed函数传递一个值
- 不同的时间 `seconds := time.Now().Unix()`

对Time调用Unix方法，它将把时间转换为整数。（具体地说，它将把时间转换成Unix时间格式，这是一个整数，是自1970年1月1日以来的秒数。)

- 随机数生成器 `rand.Seed(seconds)`





---


for循环

```go

for 初始化条件 ; 判断条件;  改变程度{
	...
}
```

`++ -- ` 增减1方便
`+= -=` 增减任意值方便


---


continue:
![[Pasted image 20220121195751.png]]

break:
![[Pasted image 20220121195804.png]]





  