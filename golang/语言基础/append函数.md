---
tag: go/语言基础/append函数
aliases:
---

```toc
```

# 数组中的append



# 切片中的append

要使用 append,需要一个被操作的切片和一个要追加的值

当append 调用返回时,会返回一个包含修改结果的新切片

## 底层数组有额外的容量

![[Pasted image 20220115114450.png]]


因为 newSlice 在底层数组里还有额外的容量可用,append 操作将可用的元素合并到切片的长度,并对其进行赋值

> 由于和原始的 slice 共享同一个底层数组,slice 中索引为 3 的元素的值也被改动了

## 底层数组没有额外的容量:智能扩容

如果切片的底层数组没有足够的可用容量,append 函数会创建一个新的底层数组,将被引用的现有的值复制到新数组里,再追加新的值

![[Pasted image 20220115145952.png]]

```ad-info
在切片的容量小于 1000 个元素时,总是会成倍地增加容量。 一旦元素个数超过 1000, 容量的增长因子会设为 1.25, 也就是会每次增加 25% 的容量
```



# 函数 append 也是一个可变参数的函数

如果使用`...`运算符,可以将一个切片的所有元素追加到另一个切片里

![[Pasted image 20220115160549.png]]


# open函数
内置函数open能够创建一个Python文件对象作为到计算机上一个文件的链接。
`open(filename, mode)`
在调用open之后，你可以通过返回的文件对象的方法，在程序与相应文件之间来回传递串形式的数据:
`f = open(filename, mode)`

#python/tips [[在处理文件对象时，最好使用 `with` 关键字]]

## filename
open函数的第一个参数是外部文件名，它可能含有一个与平台相关的绝对或相对目录路径前缀。如果没有这个目录路径，文件被默认为存在当前工作目录下（脚本所运行的目录）。

> [[文件路径的注意]]

## mode
`'r'` ，表示文件只能读取；

> 默认为`r`

`'w'` 表示只能写入（现有同名文件会被覆盖）；
`'a'` 表示打开文件并追加内容，任何写入的数据会自动添加到文件末尾。
`'r+'` 表示打开文件进行读写。

`'b'`可以进行二进制数据处理（换行符转换和Python3.X Unicode编码被关闭了)
> 通常，文件以 _text mode_ 打开


## 其他参数
- fluent
- encodeing